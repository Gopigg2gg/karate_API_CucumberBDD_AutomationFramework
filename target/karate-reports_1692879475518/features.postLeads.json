[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def readProps =","result":{"duration":35418958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","line":5}},{"name":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')","result":{"duration":50510208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def requestPayloadNew = read(props.payloadNew)","result":{"duration":36166042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def signIn = call read(props.bearerFeature)","result":{"duration":2144572875,"error_message":"status code was: 400, expected: 200, response time in milliseconds: 1439, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26\nclasspath:features\/postLeads.feature:16","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"17:47:01.742 classpath:features\/postLeads.feature:16\n* def signIn = call read(props.bearerFeature)\nstatus code was: 400, expected: 200, response time in milliseconds: 1439, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26\nclasspath:features\/postLeads.feature:16\n","line":16}},{"name":"src\/test\/java\/authFeatures\/bearerToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":16},{"name":"def readProps =","result":{"duration":4186125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","line":5}},{"name":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')","result":{"duration":11954375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"url props.bearerReqUrl","result":{"duration":2382084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":18},{"name":"path props.bearerPath","result":{"duration":862333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":19},{"name":"form field grant_type = props.grantType","result":{"duration":147287125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":20},{"name":"form field client_secret = props.clientSecret","result":{"duration":39812750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"form field client_id = props.clientId","result":{"duration":175427958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":22},{"name":"form field redirect_uri = props.redirectUri","result":{"duration":12795500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":23},{"name":"form field refresh_token = props.refreshToken","result":{"duration":4503333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":24},{"name":"method post","result":{"duration":1612540084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":25,"doc_string":{"content_type":"","value":"17:47:00.260 request:\n1 > POST https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 1973\n1 > Host: provider-portal-dev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/20.0.2)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=refresh_token&client_secret=s5cli5fi2p4us02j3tvv1f998j076r7k0m71ebl7fj66qolqtgh&client_id=6ji8vbofef21ga6e1oep9ifedm&redirect_uri=https%3A%2F%2Fgoodparents.co%2F&refresh_token=eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.t4J5wY4aIWBUTTxWp9tjvgd4D_k7i_5pZ5T6jU2jHZ2nq-n53L5zzZeN7HaN5xw2FPigy_5eHxmnPQ9WJupNDkFEDN6WSz4JaBLxPKsDRMbyc_6cg0itqmTZmlLY_I3kzcpUlPTtudm9PoAT0zE2NvSqLA_vFiFA-r9L678oi2CnIwnbYVmKceYMhtH6LmZgdkDLoN7xPI-h9lYW0iEmnY2dW-ZA6mubcNX5Q6WiF5wmO--LzcG1IS0C11ISS8TYX1wEhva86UyfrBRgtRc-AIPHdj-RGlHEU_6adgQkXwNud37BRxFjFdSoHn3RRLMfl84zDeAYYPO79CEpSnZJXw.kahcr4UUsOpMhp8y.nv6cmXtWpLsORgpRwzVks3mDZiyCKWjX_Ml4O5X1o3elzzLGc5N5yXEje5Xgm-KVcB9ULbcekb3iP_1dUPqjLSzJ9FlcLnMsYWq5qfEwLzdObByItg4Kt8qDkMBXn9nc-SF4CTzx9oKqxFmcylJS8b96eyrTuYf0DuiDT5DymxDCA1u0UH2wj3jBwugGAgb0iZab-WrVwSH7nVaWqxCQ3pC6RZXk_IXVj7QYUX1lWTBvSVPiicE_UCG4SLw8tR9svvMYD35u816qZg9a7uyh80hsXSi_vWwDbvXPlXUiDqu9_Cv3TeWh03pZjMPIUnF01BjU7mWxsJLUgE6T8V_fNNP9qY55DObcXm2GyMDZ7i5bppFXqmxG0wwCdQq_mU1KszA6RH_Dpe3arR_OWRxt2Fy36kEsKG_g3ldg0RqpsWahTCExzm4vOQc2sFpMj7lg6miqhyuwR6Xpe8wyfKJ73C2ri1LLRXIfGBpdiuYpxqHZ0ohgjmqd3f8H9G0BmgkHWIYm4Q0_SYXxI4AhwToyIPzbSJJrkSgOX5-btsMtLqhEa4y-2NHhqivX5HnFHfmOwS1_sX-52ib9AMgyhtXw9RrbQ-og0ZUiB5FljRTfUbMphlDxhSAoNnD8nWkbJ92UABPgjx-J0p54-GyYuzUbvVzWbaVQf2-DvB87sCNGAo_-kagws4ySgZ8EOcuGmN_LMkt8g-wa6RZQJ8We6lQeFGwX2z0YlbN4iCvosRI6ppMzXMZesTZGC4JV3-KIvUH0-t_0EMCkM86cBt0X3CLVKJk6Xwa0U0E8OgynlctHeXO2sGMMPga9nQr2oeh91ooFp-JSMRLfyqbxcnOWpx0t6AX8LL_mM0puXH495myMKmUqmBlFoEqqciicSlrInCp-f5lL1C9IoBCmJioh0YkbwTFTUwkvU83wl4quGLFCMUVz5TF0eGcM_prO6KnDZ4jjECsdXqcNRKa9glIQKskyb3JLqsLiNBijG61ApTqmA5vHKBAEFfM-6RxiSj0ZNkeb6WjPF6XqKl82q9uFIWyLHUO42pQOtWdw_MwBi6ZeebOPe2er8FA5wbm3MJP1UevyoiyaIl60CasU6l6rYLRskhGyHhKzQTo34RILfZHzsYQX8gVoZYRBtWSMANa5lOYgIw5gAqpT1ik_MU5zG35GPEioAARvTSRs25MNj5uiGDo2QaFsv3OaSGn1l2sU1XN16s99_nU3Rp0u-lSurJnKge2bsmR5sqLAADsMnX69FMrgggkWf80mrkEAdNYaMaDrv0xaWsQUmlnxIU64zWSfnurILHtFM0T5BcZiE0kE5svbWe3Ez7CawZj3kgjm.dGNEt-cU99F62xgukgWbEA\n\n17:47:01.706 response time in milliseconds: 1439\n1 < 400\n1 < Date: Thu, 24 Aug 2023 12:17:01 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Set-Cookie: XSRF-TOKEN=af6253f0-3bc8-4e09-a9a9-ed80672666e3; Path=\/; Secure; HttpOnly; SameSite=Lax\n1 < x-amz-cognito-request-id: d288153d-229f-46f5-9c25-ff39b20fface\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n{\"error\":\"invalid_grant\"}\n\n","line":25}},{"name":"status  200","result":{"duration":19370667,"error_message":"status code was: 400, expected: 200, response time in milliseconds: 1439, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":26,"doc_string":{"content_type":"","value":"17:47:01.742 src\/test\/java\/authFeatures\/bearerToken.feature:26\nThen status  200\nstatus code was: 400, expected: 200, response time in milliseconds: 1439, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26\n","line":26}},{"name":"def authToken = response.id_token","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":27},{"name":"def authToken = \"eyJraWQiOiJMemxCeWp3bkxHR25EbFVkWFVsMVRhZk9tRlZ3U1c3UnppZVlrZ0lrRktrPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI5NmVmOGExZi03ZmU5LTQ3M2YtODc5Yy0xMzdlZjYzZTNkMGMiLCJjdXN0b206b2NjdXBhdGlvbiI6IkRvY3RvciIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJjdXN0b206b3JnTmFtZSI6Ik5BIiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfRVlldzZXWkI0IiwicGhvbmVfbnVtYmVyX3ZlcmlmaWVkIjpmYWxzZSwiY29nbml0bzp1c2VybmFtZSI6Ijk2ZWY4YTFmLTdmZTktNDczZi04NzljLTEzN2VmNjNlM2QwYyIsImN1c3RvbTpsb2NhdGlvbiI6Ik5cL0EiLCJvcmlnaW5fanRpIjoiMTY3ODRjYTQtNjliZi00NjM1LTkzMWUtZDhiMGI2MjNkYzdlIiwiYXVkIjoiN3J2OTltNzhvMm02aDBua2RnNjZuNWJnYmEiLCJjdXN0b206dGVtcFVuaXQiOiJDIiwiZXZlbnRfaWQiOiI4YWU0MWVmYi1mNzMzLTQxZjUtYTdiOS0xZWZjMTI3MjQ3MDgiLCJjdXN0b206bGFzdFVwZGF0ZWQiOiIyMDIzLTA0LTE5VDEwOjI3OjAzMyswNTozMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjkyODc5MzQ1LCJuYW1lIjoic2hpdmVuZHJhLmR1YmV5KzQwQGdvb2RwYXJlbnRzLmlvIiwicGhvbmVfbnVtYmVyIjoiKzE3OTc0NzExNjM4IiwiY3VzdG9tOm9yZ0lEIjoiQyIsImV4cCI6MTY5Mjg4Mjk0NSwiaWF0IjoxNjkyODc5MzQ1LCJmYW1pbHlfbmFtZSI6Ik5cL0EiLCJqdGkiOiIxN2Q1M2Y2Ny01NDkyLTRkZDgtODQ3MS04ZTc1YjZiNTViZWIiLCJlbWFpbCI6InNoaXZlbmRyYS5kdWJleSs0MEBnb29kcGFyZW50cy5pbyJ9.O8NYDYxez7Tduf7RICnFEQ9XmF4YRbp4xTx6AKOr2MPIFGqHAxJJ8WpInrEdGBi-LvRQ3A3wdd4y2kVM6ctPXvasu0C_8js9Y5DJNSxvdKAOR7rMXbRMe35tfC-CILEhSKC3uVdWGXmwRO67wurNZanWYzbaS-4wgscVczU4wyO4stbpfSnGyjTPUpLkoKeJIyKevHIRFNVfJiaWql5SCdpO1HWZNCK5_RSRPBLgkaf2MwXSviwNJLCwRWkB_mRIVS1e6Oqg0F3QvdTxCRzDL9M0Kc5QwWC9tpAx3YYvlhDq39VXw1NKEzwwnCxKr95dvdBC3lte1_py6P0moJGM5Q\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["#* def authToken = signIn.authToken"],"keyword":"*","line":18},{"name":"def getRandomNum =","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19,"doc_string":{"content_type":"","value":"function(max){ return Math.floor(Math.random() * max) }","line":19}},{"name":"def randomNum = getRandomNum(9999)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":23},{"name":"def patientEmail = requestPayloadNew.patients[0].patient.patient_email = props.usernameEmail+randomNum+props.domainEmail","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24},{"name":"def parentEmail = requestPayloadNew.patients[0].emergencyContact.ecEmail = patientEmail","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"def passedStatus = props.OK","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26}]},{"start_timestamp":"2023-08-24T12:16:59.306Z","line":28,"name":"Create Leads with new parent and patient data","description":"","id":"create-leads-with-new-parent-and-patient-data","type":"scenario","keyword":"Scenario","steps":[{"name":"url baseUrl","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":30},{"name":"path props.leadsPath","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request requestPayloadNew","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"header Authorization = props.bearerName + authToken","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"method post","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":34},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":35},{"name":"match response.code == 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36}],"tags":[]}],"name":"features\/postLeads.feature","description":"Post Leads API","id":"post-leads-api","keyword":"Feature","uri":"features\/postLeads.feature"}]