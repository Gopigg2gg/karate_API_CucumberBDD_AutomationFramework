[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def readProps =","result":{"duration":18583334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","line":5}},{"name":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')","result":{"duration":46058083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"def requestPayloadNew = read(props.payloadNew)","result":{"duration":12133042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"result":{"duration":6055041,"status":"passed"},"comments":["# * def signIn = call read(props.bearerFeature)","# * def authToken = signIn.authToken"],"line":19,"name":"def getRandomNum =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"function(max){ return Math.floor(Math.random() * max) }","line":19}},{"name":"def randomNum = getRandomNum(9999)","result":{"duration":7090500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":23},{"name":"def patientEmail = requestPayloadNew.patients[0].patient.patient_email = props.usernameEmail+randomNum+props.domainEmail","result":{"duration":7113875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":24},{"name":"def parentEmail = requestPayloadNew.patients[0].emergencyContact.ecEmail = patientEmail","result":{"duration":3092000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"def passedStatus = props.OK","result":{"duration":6718792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":26}]},{"start_timestamp":"2023-08-24T14:23:37.963Z","line":28,"name":"Create Leads with new parent and patient data","description":"","id":"create-leads-with-new-parent-and-patient-data","type":"scenario","keyword":"Scenario","steps":[{"name":"url baseUrl","result":{"duration":1148875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":30},{"name":"path props.leadsPath","result":{"duration":2769333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request requestPayloadNew","result":{"duration":5254709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"header Authorization = props.bearerName + 'eyJraWQiOiJMemxCeWp3bkxHR25EbFVkWFVsMVRhZk9tRlZ3U1c3UnppZVlrZ0lrRktrPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI5NmVmOGExZi03ZmU5LTQ3M2YtODc5Yy0xMzdlZjYzZTNkMGMiLCJjdXN0b206b2NjdXBhdGlvbiI6IkRvY3RvciIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJjdXN0b206b3JnTmFtZSI6Ik5BIiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfRVlldzZXWkI0IiwicGhvbmVfbnVtYmVyX3ZlcmlmaWVkIjpmYWxzZSwiY29nbml0bzp1c2VybmFtZSI6Ijk2ZWY4YTFmLTdmZTktNDczZi04NzljLTEzN2VmNjNlM2QwYyIsImN1c3RvbTpsb2NhdGlvbiI6Ik5cL0EiLCJvcmlnaW5fanRpIjoiMTY3ODRjYTQtNjliZi00NjM1LTkzMWUtZDhiMGI2MjNkYzdlIiwiYXVkIjoiN3J2OTltNzhvMm02aDBua2RnNjZuNWJnYmEiLCJjdXN0b206dGVtcFVuaXQiOiJDIiwiZXZlbnRfaWQiOiI4YWU0MWVmYi1mNzMzLTQxZjUtYTdiOS0xZWZjMTI3MjQ3MDgiLCJjdXN0b206bGFzdFVwZGF0ZWQiOiIyMDIzLTA0LTE5VDEwOjI3OjAzMyswNTozMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjkyODc5MzQ1LCJuYW1lIjoic2hpdmVuZHJhLmR1YmV5KzQwQGdvb2RwYXJlbnRzLmlvIiwicGhvbmVfbnVtYmVyIjoiKzE3OTc0NzExNjM4IiwiY3VzdG9tOm9yZ0lEIjoiQyIsImV4cCI6MTY5Mjg4Mjk0NSwiaWF0IjoxNjkyODc5MzQ1LCJmYW1pbHlfbmFtZSI6Ik5cL0EiLCJqdGkiOiIxN2Q1M2Y2Ny01NDkyLTRkZDgtODQ3MS04ZTc1YjZiNTViZWIiLCJlbWFpbCI6InNoaXZlbmRyYS5kdWJleSs0MEBnb29kcGFyZW50cy5pbyJ9.O8NYDYxez7Tduf7RICnFEQ9XmF4YRbp4xTx6AKOr2MPIFGqHAxJJ8WpInrEdGBi-LvRQ3A3wdd4y2kVM6ctPXvasu0C_8js9Y5DJNSxvdKAOR7rMXbRMe35tfC-CILEhSKC3uVdWGXmwRO67wurNZanWYzbaS-4wgscVczU4wyO4stbpfSnGyjTPUpLkoKeJIyKevHIRFNVfJiaWql5SCdpO1HWZNCK5_RSRPBLgkaf2MwXSviwNJLCwRWkB_mRIVS1e6Oqg0F3QvdTxCRzDL9M0Kc5QwWC9tpAx3YYvlhDq39VXw1NKEzwwnCxKr95dvdBC3lte1_py6P0moJGM5Q'","result":{"duration":1120875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"method post","result":{"duration":2397567584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":34,"doc_string":{"content_type":"","value":"19:53:38.500 request:\n1 > POST https:\/\/opcwb9o4ik.execute-api.us-east-1.amazonaws.com\/stage\/leads\n1 > Authorization: Bearer eyJraWQiOiJMemxCeWp3bkxHR25EbFVkWFVsMVRhZk9tRlZ3U1c3UnppZVlrZ0lrRktrPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI5NmVmOGExZi03ZmU5LTQ3M2YtODc5Yy0xMzdlZjYzZTNkMGMiLCJjdXN0b206b2NjdXBhdGlvbiI6IkRvY3RvciIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJjdXN0b206b3JnTmFtZSI6Ik5BIiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfRVlldzZXWkI0IiwicGhvbmVfbnVtYmVyX3ZlcmlmaWVkIjpmYWxzZSwiY29nbml0bzp1c2VybmFtZSI6Ijk2ZWY4YTFmLTdmZTktNDczZi04NzljLTEzN2VmNjNlM2QwYyIsImN1c3RvbTpsb2NhdGlvbiI6Ik5cL0EiLCJvcmlnaW5fanRpIjoiMTY3ODRjYTQtNjliZi00NjM1LTkzMWUtZDhiMGI2MjNkYzdlIiwiYXVkIjoiN3J2OTltNzhvMm02aDBua2RnNjZuNWJnYmEiLCJjdXN0b206dGVtcFVuaXQiOiJDIiwiZXZlbnRfaWQiOiI4YWU0MWVmYi1mNzMzLTQxZjUtYTdiOS0xZWZjMTI3MjQ3MDgiLCJjdXN0b206bGFzdFVwZGF0ZWQiOiIyMDIzLTA0LTE5VDEwOjI3OjAzMyswNTozMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjkyODc5MzQ1LCJuYW1lIjoic2hpdmVuZHJhLmR1YmV5KzQwQGdvb2RwYXJlbnRzLmlvIiwicGhvbmVfbnVtYmVyIjoiKzE3OTc0NzExNjM4IiwiY3VzdG9tOm9yZ0lEIjoiQyIsImV4cCI6MTY5Mjg4Mjk0NSwiaWF0IjoxNjkyODc5MzQ1LCJmYW1pbHlfbmFtZSI6Ik5cL0EiLCJqdGkiOiIxN2Q1M2Y2Ny01NDkyLTRkZDgtODQ3MS04ZTc1YjZiNTViZWIiLCJlbWFpbCI6InNoaXZlbmRyYS5kdWJleSs0MEBnb29kcGFyZW50cy5pbyJ9.O8NYDYxez7Tduf7RICnFEQ9XmF4YRbp4xTx6AKOr2MPIFGqHAxJJ8WpInrEdGBi-LvRQ3A3wdd4y2kVM6ctPXvasu0C_8js9Y5DJNSxvdKAOR7rMXbRMe35tfC-CILEhSKC3uVdWGXmwRO67wurNZanWYzbaS-4wgscVczU4wyO4stbpfSnGyjTPUpLkoKeJIyKevHIRFNVfJiaWql5SCdpO1HWZNCK5_RSRPBLgkaf2MwXSviwNJLCwRWkB_mRIVS1e6Oqg0F3QvdTxCRzDL9M0Kc5QwWC9tpAx3YYvlhDq39VXw1NKEzwwnCxKr95dvdBC3lte1_py6P0moJGM5Q\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 634\n1 > Host: opcwb9o4ik.execute-api.us-east-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/20.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"provider_id\":\"AutomationProvider\",\"provider_org_id\":\"90091\",\"patients\":[{\"patient\":{\"firstname\":\"AutomationPatient\",\"lastname\":\"Lastname\",\"gender\":\"Male\",\"dob\":\"asdf\",\"patient_email\":\"anusha.diwakar+ec2248@kiddo.health\",\"homePhone\":\"209-285-9852\",\"mobile\":\"505-518-3503\",\"address\":\"01Address\",\"state\":\"California\",\"zipCode\":\"95205\",\"medicalCondition\":[\"Asthma\",\"Diabetes\"],\"payer_id\":\"1234\"},\"emergencyContact\":{\"ecFirstName\":\"AutomationParent\",\"ecLastName\":\"Lastname\",\"ecHomePhone\":\"559-550-4091\",\"ecMobile\":\"916-988-2753\",\"ecWorkNumber\":\"256-622-1310\",\"ecEmail\":\"anusha.diwakar+ec2248@kiddo.health\",\"ecRelationship\":\"Guardian\"}}]}\n\n19:53:40.602 response time in milliseconds: 2079\n1 < 401\n1 < Date: Thu, 24 Aug 2023 14:23:40 GMT\n1 < Content-Type: application\/json\n1 < Content-Length: 44\n1 < Connection: keep-alive\n1 < x-amzn-RequestId: 631b1f6f-c769-4f6c-bb6d-0078ea56e954\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token\n1 < x-amzn-ErrorType: UnauthorizedException\n1 < x-amz-apigw-id: KK0s_HYqIAMEvLQ=\n1 < Access-Control-Allow-Methods: OPTIONS,POST\n{\"message\":\"The incoming token has expired\"}\n\n","line":34}},{"name":"status 200","result":{"duration":41375917,"error_message":"status code was: 401, expected: 200, response time in milliseconds: 2079, url: https:\/\/opcwb9o4ik.execute-api.us-east-1.amazonaws.com\/stage\/leads, response: \n{\"message\":\"The incoming token has expired\"}\nclasspath:features\/postLeads.feature:35","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":35,"doc_string":{"content_type":"","value":"19:53:40.689 classpath:features\/postLeads.feature:35\nThen status 200\nstatus code was: 401, expected: 200, response time in milliseconds: 2079, url: https:\/\/opcwb9o4ik.execute-api.us-east-1.amazonaws.com\/stage\/leads, response: \n{\"message\":\"The incoming token has expired\"}\nclasspath:features\/postLeads.feature:35\n","line":35}},{"name":"match response.code == 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36}],"tags":[]}],"name":"features\/postLeads.feature","description":"Post Leads API","id":"post-leads-api","keyword":"Feature","uri":"features\/postLeads.feature"}]