{"failedCount":0,"prefixedPath":"classpath:features\/postLeads.feature","packageQualifiedName":"features.postLeads","loopIndex":-1,"relativePath":"features\/postLeads.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":30006292,"millis":30.006292,"status":"passed"},"step":{"endLine":13,"background":true,"line":5,"prefix":"*","docString":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","index":0,"text":"def readProps ="}},{"result":{"nanos":41281458,"millis":41.281458,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":1,"text":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')"}},{"result":{"nanos":29309667,"millis":29.309667,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":2,"text":"def requestPayloadNew = read(props.payloadNew)"}},{"result":{"nanos":2314737667,"millis":2314.737667,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":3,"text":"def signIn = call read(props.bearerFeature)"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/authFeatures\/bearerToken.feature","packageQualifiedName":"src.test.java.authFeatures.bearerToken","loopIndex":-1,"relativePath":"src\/test\/java\/authFeatures\/bearerToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4090375,"millis":4.090375,"status":"passed"},"step":{"endLine":13,"background":true,"line":5,"prefix":"*","docString":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","index":0,"text":"def readProps ="}},{"result":{"nanos":11912625,"millis":11.912625,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":1,"text":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')"}},{"result":{"nanos":2878375,"millis":2.878375,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"url props.bearerReqUrl"}},{"result":{"nanos":837125,"millis":0.837125,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"path props.bearerPath"}},{"result":{"nanos":163297875,"millis":163.297875,"status":"passed"},"step":{"line":20,"prefix":"And","index":2,"text":"form field grant_type = props.grantType"}},{"result":{"nanos":34153167,"millis":34.153167,"status":"passed"},"step":{"line":21,"prefix":"And","index":3,"text":"form field client_secret = props.clientSecret"}},{"result":{"nanos":5241750,"millis":5.24175,"status":"passed"},"step":{"line":22,"prefix":"And","index":4,"text":"form field client_id = props.clientId"}},{"result":{"nanos":865792,"millis":0.865792,"status":"passed"},"step":{"line":23,"prefix":"And","index":5,"text":"form field redirect_uri = props.redirectUri"}},{"result":{"nanos":566584,"millis":0.566584,"status":"passed"},"step":{"line":24,"prefix":"And","index":6,"text":"form field refresh_token = props.refreshToken"}},{"result":{"nanos":1952434625,"millis":1952.434625,"status":"passed"},"step":{"line":25,"prefix":"When","index":7,"text":"method post"},"stepLog":"15:50:05.161 request:\n1 > POST https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 1973\n1 > Host: provider-portal-dev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/20.0.2)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=refresh_token&client_secret=s5cli5fi2p4us02j3tvv1f998j076r7k0m71ebl7fj66qolqtgh&client_id=6ji8vbofef21ga6e1oep9ifedm&redirect_uri=https%3A%2F%2Fgoodparents.co%2F&refresh_token=eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.t4J5wY4aIWBUTTxWp9tjvgd4D_k7i_5pZ5T6jU2jHZ2nq-n53L5zzZeN7HaN5xw2FPigy_5eHxmnPQ9WJupNDkFEDN6WSz4JaBLxPKsDRMbyc_6cg0itqmTZmlLY_I3kzcpUlPTtudm9PoAT0zE2NvSqLA_vFiFA-r9L678oi2CnIwnbYVmKceYMhtH6LmZgdkDLoN7xPI-h9lYW0iEmnY2dW-ZA6mubcNX5Q6WiF5wmO--LzcG1IS0C11ISS8TYX1wEhva86UyfrBRgtRc-AIPHdj-RGlHEU_6adgQkXwNud37BRxFjFdSoHn3RRLMfl84zDeAYYPO79CEpSnZJXw.kahcr4UUsOpMhp8y.nv6cmXtWpLsORgpRwzVks3mDZiyCKWjX_Ml4O5X1o3elzzLGc5N5yXEje5Xgm-KVcB9ULbcekb3iP_1dUPqjLSzJ9FlcLnMsYWq5qfEwLzdObByItg4Kt8qDkMBXn9nc-SF4CTzx9oKqxFmcylJS8b96eyrTuYf0DuiDT5DymxDCA1u0UH2wj3jBwugGAgb0iZab-WrVwSH7nVaWqxCQ3pC6RZXk_IXVj7QYUX1lWTBvSVPiicE_UCG4SLw8tR9svvMYD35u816qZg9a7uyh80hsXSi_vWwDbvXPlXUiDqu9_Cv3TeWh03pZjMPIUnF01BjU7mWxsJLUgE6T8V_fNNP9qY55DObcXm2GyMDZ7i5bppFXqmxG0wwCdQq_mU1KszA6RH_Dpe3arR_OWRxt2Fy36kEsKG_g3ldg0RqpsWahTCExzm4vOQc2sFpMj7lg6miqhyuwR6Xpe8wyfKJ73C2ri1LLRXIfGBpdiuYpxqHZ0ohgjmqd3f8H9G0BmgkHWIYm4Q0_SYXxI4AhwToyIPzbSJJrkSgOX5-btsMtLqhEa4y-2NHhqivX5HnFHfmOwS1_sX-52ib9AMgyhtXw9RrbQ-og0ZUiB5FljRTfUbMphlDxhSAoNnD8nWkbJ92UABPgjx-J0p54-GyYuzUbvVzWbaVQf2-DvB87sCNGAo_-kagws4ySgZ8EOcuGmN_LMkt8g-wa6RZQJ8We6lQeFGwX2z0YlbN4iCvosRI6ppMzXMZesTZGC4JV3-KIvUH0-t_0EMCkM86cBt0X3CLVKJk6Xwa0U0E8OgynlctHeXO2sGMMPga9nQr2oeh91ooFp-JSMRLfyqbxcnOWpx0t6AX8LL_mM0puXH495myMKmUqmBlFoEqqciicSlrInCp-f5lL1C9IoBCmJioh0YkbwTFTUwkvU83wl4quGLFCMUVz5TF0eGcM_prO6KnDZ4jjECsdXqcNRKa9glIQKskyb3JLqsLiNBijG61ApTqmA5vHKBAEFfM-6RxiSj0ZNkeb6WjPF6XqKl82q9uFIWyLHUO42pQOtWdw_MwBi6ZeebOPe2er8FA5wbm3MJP1UevyoiyaIl60CasU6l6rYLRskhGyHhKzQTo34RILfZHzsYQX8gVoZYRBtWSMANa5lOYgIw5gAqpT1ik_MU5zG35GPEioAARvTSRs25MNj5uiGDo2QaFsv3OaSGn1l2sU1XN16s99_nU3Rp0u-lSurJnKge2bsmR5sqLAADsMnX69FMrgggkWf80mrkEAdNYaMaDrv0xaWsQUmlnxIU64zWSfnurILHtFM0T5BcZiE0kE5svbWe3Ez7CawZj3kgjm.dGNEt-cU99F62xgukgWbEA\n\n15:50:06.778 response time in milliseconds: 1611\n1 < 200\n1 < Date: Thu, 17 Aug 2023 10:20:06 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Set-Cookie: XSRF-TOKEN=05695672-d884-4a09-ad6c-c79fd63fbdf6; Path=\/; Secure; HttpOnly; SameSite=Lax\n1 < x-amz-cognito-request-id: 2cdd5e23-b932-4d71-92e7-82f95572674f\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n{\"id_token\":\"eyJraWQiOiJMemxCeWp3bkxHR25EbFVkWFVsMVRhZk9tRlZ3U1c3UnppZVlrZ0lrRktrPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiTVZWVEJ6UXRvbkxzYXZ3cnltR0JRdyIsInN1YiI6Ijk4Y2E1NmY4LWZkNDAtNDk5Ny1hOGE4LWRkMjcwMDRhOTU4NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9FWWV3NldaQjQiLCJjb2duaXRvOnVzZXJuYW1lIjoiOThjYTU2ZjgtZmQ0MC00OTk3LWE4YTgtZGQyNzAwNGE5NTg3Iiwib3JpZ2luX2p0aSI6IjU1ZDNlNTM4LWM2M2QtNDhlMS04ZDE5LWUyZjU1MjU5MWNkZCIsImF1ZCI6IjZqaTh2Ym9mZWYyMWdhNmUxb2VwOWlmZWRtIiwiZXZlbnRfaWQiOiI3ZGVhODg4MS0yMWIwLTRkOTYtYjIyMS0zNmUyMTI5MWQ5YmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY4ODcyNDE1MSwiZXhwIjoxNjkyMjcxMjA2LCJpYXQiOjE2OTIyNjc2MDYsImp0aSI6IjVmNTZkZjNlLTkwZjEtNGFlNC1iNDEyLWZlNzM3ZWE5YzhlNCIsImVtYWlsIjoibWloaXIuYmhhdHRAa2lkZG8uaGVhbHRoIn0.QW19ilYBNxTXQN2lHSqYyxTXvwrqFScJZaoa1ZF1v-Xs_VJ4NLdj4cGrQliKN4LGm9xewmW-1P0-ChO_AnEQRhqs-kR-WYkYL2-PBYwv9vKWZ4QVZDMr0IupWrQWemgcOpvS41XZFsclgR80ClD7sWR8d5pGJNYfoTUY_I-OF57dUw6nob9MMOQxK7LYVJjdQ2VWUaaGr62oLqsa4kPqHM46FlbxMevtEEEFCwhraS4A28QhAu_81NHzYxKM64IN1O1stNU5P8NiZsm37lqzv53dY8Lq07o_UQGVHVSM90q2cMw3QcdLd5WRS60GsWTssbv-bWtrGqSfY9bAfZ-Itg\",\"access_token\":\"eyJraWQiOiJXS1pzQTNvbnFKcjRCMkpCeHh5dVBLNVlzZ0N0Z1dTZm5JQXh2YnpGTElFPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI5OGNhNTZmOC1mZDQwLTQ5OTctYThhOC1kZDI3MDA0YTk1ODciLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9FWWV3NldaQjQiLCJ2ZXJzaW9uIjoyLCJjbGllbnRfaWQiOiI2amk4dmJvZmVmMjFnYTZlMW9lcDlpZmVkbSIsIm9yaWdpbl9qdGkiOiI1NWQzZTUzOC1jNjNkLTQ4ZTEtOGQxOS1lMmY1NTI1OTFjZGQiLCJldmVudF9pZCI6IjdkZWE4ODgxLTIxYjAtNGQ5Ni1iMjIxLTM2ZTIxMjkxZDliZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoicGhvbmUgb3BlbmlkIGVtYWlsIiwiYXV0aF90aW1lIjoxNjg4NzI0MTUxLCJleHAiOjE2OTIyNzEyMDYsImlhdCI6MTY5MjI2NzYwNiwianRpIjoiOTI2YTVhZDAtYjg1ZS00MjQwLWIwMmEtYWQxYTlhYzIxM2E3IiwidXNlcm5hbWUiOiI5OGNhNTZmOC1mZDQwLTQ5OTctYThhOC1kZDI3MDA0YTk1ODcifQ.NLsPsL-HZxlO-F6qEq4K5V1CFG9O_pzoFPHeq5KphAt5Emy7Ngsn8qAbgRrPSAQwW1qVUNMVr2Yuft_ZFhp7UZAAwOxBgnYB7rNGs0MxTUi3TMykfWjnhFf0xHQEJNVbGM0nt0mNzBcir9qXPtEwyg5mT9zD-oNKm5_S1TAnYhSiRKOmSs-3Sqnid709ChVetVwvVncDD6INOeIXZkmRTWINJiKhK9uO0Rlpsx9n7iFXuDyrlqHbVa2KORteTQizUlzRJgw3NpBkdvEAqSayk49JqyTC0-oqw96akOYrXNr_i_2hKu9dJnLovsYgx68rcZPU1fjXgDkLJHojRdJG_g\",\"expires_in\":3600,\"token_type\":\"Bearer\"}\n\n"},{"result":{"nanos":19174875,"millis":19.174875,"status":"passed"},"step":{"line":26,"prefix":"Then","index":8,"text":"status  200"}},{"result":{"nanos":9103583,"millis":9.103583,"status":"passed"},"step":{"line":27,"prefix":"And","index":9,"text":"def authToken = response.id_token"}}],"executorName":"pool-1-thread-5","line":16,"name":"Oauth2 Token API","description":"","durationMillis":2204.556751,"startTime":1692267604609,"failed":false,"refId":"[1:16]","endTime":1692267606821,"exampleIndex":-1}],"callDepth":1,"name":"Get bearer Token for Provider Portal","description":"","resultDate":"2023-08-17 03:50:16 pm","durationMillis":2204.556751,"passedCount":1}]},{"result":{"nanos":1983584,"millis":1.983584,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":4,"text":"def authToken = signIn.authToken"}},{"result":{"nanos":13441875,"millis":13.441875,"status":"passed"},"step":{"endLine":21,"background":true,"line":18,"prefix":"*","docString":"function(max){ return Math.floor(Math.random() * max) }","index":5,"text":"def getRandomNum ="}},{"result":{"nanos":7955667,"millis":7.955667,"status":"passed"},"step":{"background":true,"line":22,"prefix":"*","index":6,"text":"def randomNum = getRandomNum(9999)"}},{"result":{"nanos":2991500,"millis":2.9915,"status":"passed"},"step":{"background":true,"line":23,"prefix":"*","index":7,"text":"def patientEmail = requestPayloadNew.patients[0].patient.patient_email = props.usernameEmail+randomNum+props.domainEmail"}},{"result":{"nanos":2790875,"millis":2.790875,"status":"passed"},"step":{"background":true,"line":24,"prefix":"*","index":8,"text":"def parentEmail = requestPayloadNew.patients[0].emergencyContact.ecEmail = patientEmail"}},{"result":{"nanos":1363625,"millis":1.363625,"status":"passed"},"step":{"background":true,"line":25,"prefix":"*","index":9,"text":"def passedStatus = props.OK"}},{"result":{"nanos":2148083,"millis":2.148083,"status":"passed"},"step":{"line":29,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":325834,"millis":0.325834,"status":"passed"},"step":{"line":30,"prefix":"And","index":1,"text":"path props.leadsPath"}},{"result":{"nanos":838208,"millis":0.838208,"status":"passed"},"step":{"line":31,"prefix":"And","index":2,"text":"request requestPayloadNew"}},{"result":{"nanos":680875,"millis":0.680875,"status":"passed"},"step":{"line":32,"prefix":"And","index":3,"text":"header Authorization = props.bearerName + authToken"}},{"result":{"nanos":9268879125,"millis":9268.879125,"status":"passed"},"step":{"line":33,"prefix":"When","index":4,"text":"method post"},"stepLog":"15:50:06.865 request:\n1 > POST https:\/\/opcwb9o4ik.execute-api.us-east-1.amazonaws.com\/stage\/leads\n1 > Authorization: Bearer eyJraWQiOiJMemxCeWp3bkxHR25EbFVkWFVsMVRhZk9tRlZ3U1c3UnppZVlrZ0lrRktrPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiTVZWVEJ6UXRvbkxzYXZ3cnltR0JRdyIsInN1YiI6Ijk4Y2E1NmY4LWZkNDAtNDk5Ny1hOGE4LWRkMjcwMDRhOTU4NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9FWWV3NldaQjQiLCJjb2duaXRvOnVzZXJuYW1lIjoiOThjYTU2ZjgtZmQ0MC00OTk3LWE4YTgtZGQyNzAwNGE5NTg3Iiwib3JpZ2luX2p0aSI6IjU1ZDNlNTM4LWM2M2QtNDhlMS04ZDE5LWUyZjU1MjU5MWNkZCIsImF1ZCI6IjZqaTh2Ym9mZWYyMWdhNmUxb2VwOWlmZWRtIiwiZXZlbnRfaWQiOiI3ZGVhODg4MS0yMWIwLTRkOTYtYjIyMS0zNmUyMTI5MWQ5YmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY4ODcyNDE1MSwiZXhwIjoxNjkyMjcxMjA2LCJpYXQiOjE2OTIyNjc2MDYsImp0aSI6IjVmNTZkZjNlLTkwZjEtNGFlNC1iNDEyLWZlNzM3ZWE5YzhlNCIsImVtYWlsIjoibWloaXIuYmhhdHRAa2lkZG8uaGVhbHRoIn0.QW19ilYBNxTXQN2lHSqYyxTXvwrqFScJZaoa1ZF1v-Xs_VJ4NLdj4cGrQliKN4LGm9xewmW-1P0-ChO_AnEQRhqs-kR-WYkYL2-PBYwv9vKWZ4QVZDMr0IupWrQWemgcOpvS41XZFsclgR80ClD7sWR8d5pGJNYfoTUY_I-OF57dUw6nob9MMOQxK7LYVJjdQ2VWUaaGr62oLqsa4kPqHM46FlbxMevtEEEFCwhraS4A28QhAu_81NHzYxKM64IN1O1stNU5P8NiZsm37lqzv53dY8Lq07o_UQGVHVSM90q2cMw3QcdLd5WRS60GsWTssbv-bWtrGqSfY9bAfZ-Itg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 634\n1 > Host: opcwb9o4ik.execute-api.us-east-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/20.0.2)\n1 > Accept-Encoding: gzip,deflate\n{\"provider_id\":\"AutomationProvider\",\"provider_org_id\":\"90091\",\"patients\":[{\"patient\":{\"firstname\":\"AutomationPatient\",\"lastname\":\"Lastname\",\"gender\":\"Male\",\"dob\":\"asdf\",\"patient_email\":\"anusha.diwakar+ec7608@kiddo.health\",\"homePhone\":\"209-285-9852\",\"mobile\":\"505-518-3503\",\"address\":\"01Address\",\"state\":\"California\",\"zipCode\":\"95205\",\"medicalCondition\":[\"Asthma\",\"Diabetes\"],\"payer_id\":\"1234\"},\"emergencyContact\":{\"ecFirstName\":\"AutomationParent\",\"ecLastName\":\"Lastname\",\"ecHomePhone\":\"559-550-4091\",\"ecMobile\":\"916-988-2753\",\"ecWorkNumber\":\"256-622-1310\",\"ecEmail\":\"anusha.diwakar+ec7608@kiddo.health\",\"ecRelationship\":\"Guardian\"}}]}\n\n15:50:16.121 response time in milliseconds: 9253\n1 < 200\n1 < Date: Thu, 17 Aug 2023 10:20:16 GMT\n1 < Content-Type: application\/json\n1 < Content-Length: 797\n1 < Connection: keep-alive\n1 < x-amzn-RequestId: 0b0bfcfb-b165-420b-bb9f-b0f4b7a40183\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Allow-Headers: Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token\n1 < x-amz-apigw-id: JzMduFYaIAMEtbg=\n1 < Access-Control-Allow-Methods: *\n1 < X-Amzn-Trace-Id: Root=1-64ddf457-76491caf20c7f1c65f2e9244;Sampled=0;lineage=d8d2cf2e:0\n{\"status\": true, \"code\": 200, \"message\": \"\", \"data\": [{\"patient\": {\"id\": \"64ddf45e2d6e675b7c037015\", \"firstname\": \"AutomationPatient\", \"lastname\": \"Lastname\", \"gender\": \"Male\", \"dob\": \"asdf\", \"patient_email\": \"anusha.diwakar+ec7608@kiddo.health\", \"homePhone\": \"209-285-9852\", \"mobile\": \"505-518-3503\", \"address\": \"01Address\", \"state\": \"California\", \"zipCode\": \"95205\", \"medicalCondition\": [\"Asthma\", \"Diabetes\"], \"payer_id\": \"1234\", \"parent_id\": \"64ddf45e2d6e675b7c037014\"}, \"emergencyContact\": {\"ecFirstName\": \"AutomationParent\", \"ecLastName\": \"Lastname\", \"ecHomePhone\": \"559-550-4091\", \"ecMobile\": \"916-988-2753\", \"ecWorkNumber\": \"256-622-1310\", \"ecEmail\": \"anusha.diwakar+ec7608@kiddo.health\", \"ecRelationship\": \"Guardian\", \"id\": \"64ddf45e2d6e675b7c037014\"}}], \"errors\": [], \"pagination\": null}\n\n"},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":34,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":24936958,"millis":24.936958,"status":"passed"},"step":{"line":35,"prefix":"And","index":6,"text":"match response.code == 200"}}],"executorName":"pool-1-thread-5","line":27,"name":"Create Leads with new parent and patient data","description":"","durationMillis":11743.710293,"startTime":1692267604226,"failed":false,"refId":"[1:27]","endTime":1692267616154,"exampleIndex":-1}],"callDepth":0,"name":"Post Leads API","description":"","resultDate":"2023-08-17 03:50:16 pm","durationMillis":11743.710293,"passedCount":1}