{"failedCount":1,"prefixedPath":"src\/test\/java\/features\/postLeads.feature","packageQualifiedName":"src.test.java.features.postLeads","loopIndex":-1,"relativePath":"src\/test\/java\/features\/postLeads.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":15129375,"millis":15.129375,"status":"passed"},"step":{"endLine":13,"background":true,"line":5,"prefix":"*","docString":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","index":0,"text":"def readProps ="}},{"result":{"nanos":28166958,"millis":28.166958,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":1,"text":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')"}},{"result":{"nanos":29640584,"millis":29.640584,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":2,"text":"def requestPayloadReq = read(props.postLeadsReq)"}},{"result":{"nanos":2190191167,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 1738, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26\nsrc\/test\/java\/features\/postLeads.feature:16","millis":2190.191167,"status":"failed"},"step":{"background":true,"line":16,"prefix":"*","index":3,"text":"def signIn = call read(props.bearerFeature)"},"stepLog":"14:57:55.691 src\/test\/java\/features\/postLeads.feature:16\n* def signIn = call read(props.bearerFeature)\nstatus code was: 400, expected: 200, response time in milliseconds: 1738, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26\nsrc\/test\/java\/features\/postLeads.feature:16\n","callResults":[{"failedCount":1,"prefixedPath":"src\/test\/java\/authFeatures\/bearerToken.feature","packageQualifiedName":"src.test.java.authFeatures.bearerToken","loopIndex":-1,"relativePath":"src\/test\/java\/authFeatures\/bearerToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":957208,"millis":0.957208,"status":"passed"},"step":{"endLine":13,"background":true,"line":5,"prefix":"*","docString":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","index":0,"text":"def readProps ="}},{"result":{"nanos":2161958,"millis":2.161958,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":1,"text":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')"}},{"result":{"nanos":733042,"millis":0.733042,"status":"passed"},"step":{"line":18,"prefix":"Given","index":0,"text":"url props.bearerReqUrl"}},{"result":{"nanos":416375,"millis":0.416375,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"path props.bearerPath"}},{"result":{"nanos":75280916,"millis":75.280916,"status":"passed"},"step":{"line":20,"prefix":"And","index":2,"text":"form field grant_type = props.grantType"}},{"result":{"nanos":3098875,"millis":3.098875,"status":"passed"},"step":{"line":21,"prefix":"And","index":3,"text":"form field client_secret = props.clientSecret"}},{"result":{"nanos":1260042,"millis":1.260042,"status":"passed"},"step":{"line":22,"prefix":"And","index":4,"text":"form field client_id = props.clientId"}},{"result":{"nanos":778042,"millis":0.778042,"status":"passed"},"step":{"line":23,"prefix":"And","index":5,"text":"form field redirect_uri = props.redirectUri"}},{"result":{"nanos":664667,"millis":0.664667,"status":"passed"},"step":{"line":24,"prefix":"And","index":6,"text":"form field refresh_token = props.refreshToken"}},{"result":{"nanos":2037263542,"millis":2037.263542,"status":"passed"},"step":{"line":25,"prefix":"When","index":7,"text":"method post"},"stepLog":"14:57:53.886 request:\n1 > POST https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 1973\n1 > Host: provider-portal-dev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/20.0.2)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=refresh_token&client_secret=s5cli5fi2p4us02j3tvv1f998j076r7k0m71ebl7fj66qolqtgh&client_id=6ji8vbofef21ga6e1oep9ifedm&redirect_uri=https%3A%2F%2Fgoodparents.co%2F&refresh_token=eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.t4J5wY4aIWBUTTxWp9tjvgd4D_k7i_5pZ5T6jU2jHZ2nq-n53L5zzZeN7HaN5xw2FPigy_5eHxmnPQ9WJupNDkFEDN6WSz4JaBLxPKsDRMbyc_6cg0itqmTZmlLY_I3kzcpUlPTtudm9PoAT0zE2NvSqLA_vFiFA-r9L678oi2CnIwnbYVmKceYMhtH6LmZgdkDLoN7xPI-h9lYW0iEmnY2dW-ZA6mubcNX5Q6WiF5wmO--LzcG1IS0C11ISS8TYX1wEhva86UyfrBRgtRc-AIPHdj-RGlHEU_6adgQkXwNud37BRxFjFdSoHn3RRLMfl84zDeAYYPO79CEpSnZJXw.kahcr4UUsOpMhp8y.nv6cmXtWpLsORgpRwzVks3mDZiyCKWjX_Ml4O5X1o3elzzLGc5N5yXEje5Xgm-KVcB9ULbcekb3iP_1dUPqjLSzJ9FlcLnMsYWq5qfEwLzdObByItg4Kt8qDkMBXn9nc-SF4CTzx9oKqxFmcylJS8b96eyrTuYf0DuiDT5DymxDCA1u0UH2wj3jBwugGAgb0iZab-WrVwSH7nVaWqxCQ3pC6RZXk_IXVj7QYUX1lWTBvSVPiicE_UCG4SLw8tR9svvMYD35u816qZg9a7uyh80hsXSi_vWwDbvXPlXUiDqu9_Cv3TeWh03pZjMPIUnF01BjU7mWxsJLUgE6T8V_fNNP9qY55DObcXm2GyMDZ7i5bppFXqmxG0wwCdQq_mU1KszA6RH_Dpe3arR_OWRxt2Fy36kEsKG_g3ldg0RqpsWahTCExzm4vOQc2sFpMj7lg6miqhyuwR6Xpe8wyfKJ73C2ri1LLRXIfGBpdiuYpxqHZ0ohgjmqd3f8H9G0BmgkHWIYm4Q0_SYXxI4AhwToyIPzbSJJrkSgOX5-btsMtLqhEa4y-2NHhqivX5HnFHfmOwS1_sX-52ib9AMgyhtXw9RrbQ-og0ZUiB5FljRTfUbMphlDxhSAoNnD8nWkbJ92UABPgjx-J0p54-GyYuzUbvVzWbaVQf2-DvB87sCNGAo_-kagws4ySgZ8EOcuGmN_LMkt8g-wa6RZQJ8We6lQeFGwX2z0YlbN4iCvosRI6ppMzXMZesTZGC4JV3-KIvUH0-t_0EMCkM86cBt0X3CLVKJk6Xwa0U0E8OgynlctHeXO2sGMMPga9nQr2oeh91ooFp-JSMRLfyqbxcnOWpx0t6AX8LL_mM0puXH495myMKmUqmBlFoEqqciicSlrInCp-f5lL1C9IoBCmJioh0YkbwTFTUwkvU83wl4quGLFCMUVz5TF0eGcM_prO6KnDZ4jjECsdXqcNRKa9glIQKskyb3JLqsLiNBijG61ApTqmA5vHKBAEFfM-6RxiSj0ZNkeb6WjPF6XqKl82q9uFIWyLHUO42pQOtWdw_MwBi6ZeebOPe2er8FA5wbm3MJP1UevyoiyaIl60CasU6l6rYLRskhGyHhKzQTo34RILfZHzsYQX8gVoZYRBtWSMANa5lOYgIw5gAqpT1ik_MU5zG35GPEioAARvTSRs25MNj5uiGDo2QaFsv3OaSGn1l2sU1XN16s99_nU3Rp0u-lSurJnKge2bsmR5sqLAADsMnX69FMrgggkWf80mrkEAdNYaMaDrv0xaWsQUmlnxIU64zWSfnurILHtFM0T5BcZiE0kE5svbWe3Ez7CawZj3kgjm.dGNEt-cU99F62xgukgWbEA\n\n14:57:55.637 response time in milliseconds: 1738\n1 < 400\n1 < Date: Mon, 04 Sep 2023 09:27:55 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Set-Cookie: XSRF-TOKEN=f978e67b-2424-4ede-aeea-4cf7fd45cab1; Path=\/; Secure; HttpOnly; SameSite=Lax\n1 < x-amz-cognito-request-id: 65cd53a4-0ed5-4fc1-bf0b-bfd665db8da5\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n{\"error\":\"invalid_grant\"}\n\n"},{"result":{"nanos":25184000,"errorMessage":"status code was: 400, expected: 200, response time in milliseconds: 1738, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26","millis":25.184,"status":"failed"},"step":{"line":26,"prefix":"Then","index":8,"text":"status  200"},"stepLog":"14:57:55.690 src\/test\/java\/authFeatures\/bearerToken.feature:26\nThen status  200\nstatus code was: 400, expected: 200, response time in milliseconds: 1738, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":9,"text":"def authToken = response.id_token"}}],"line":16,"description":"","durationMillis":2147.798667,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 1738, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26","executorName":"main","name":"Oauth2 Token API","startTime":1693819673538,"refId":"[1:16]","endTime":1693819675690,"exampleIndex":-1}],"callDepth":1,"name":"Get bearer Token for Provider Portal","description":"","resultDate":"2023-09-04 02:57:55 pm","durationMillis":2147.798667,"passedCount":0}]},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# * def authToken = signIn.authToken","#* def tempToken = 'eyJraWQiOiJMemxCeWp3bkxHR25EbFVkWFVsMVRhZk9tRlZ3U1c3UnppZVlrZ0lrRktrPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI1MWEyOTQwOC03NjczLTQyYWYtOTMwZC02YzRiZTUwY2JiMTYiLCJjdXN0b206b2NjdXBhdGlvbiI6IlRlc3QiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZ2VuZGVyIjoiRiIsImN1c3RvbTpvcmdOYW1lIjoiTkEiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9FWWV3NldaQjQiLCJwaG9uZV9udW1iZXJfdmVyaWZpZWQiOmZhbHNlLCJjb2duaXRvOnVzZXJuYW1lIjoiNTFhMjk0MDgtNzY3My00MmFmLTkzMGQtNmM0YmU1MGNiYjE2IiwiY3VzdG9tOmxvY2F0aW9uIjoiTkEiLCJvcmlnaW5fanRpIjoiMGE4MGU0OGItYTQ1NS00NjQxLWFlNTMtYzNhZGUxNGE4MGQwIiwiYXVkIjoiN3J2OTltNzhvMm02aDBua2RnNjZuNWJnYmEiLCJjdXN0b206dGVtcFVuaXQiOiJGIiwiZXZlbnRfaWQiOiI3MWM4ZWU2My0wMDQ1LTQ3YjMtOTRjYi1hOTc4OTEzNmNiODAiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY5MzgxNzkxOCwibmFtZSI6IkFudXNoYSIsInBob25lX251bWJlciI6Ijc5NzQ3MTE2NDEiLCJjdXN0b206b3JnSUQiOiJOQSIsImV4cCI6MTY5MzgyMTUxOCwiaWF0IjoxNjkzODE3OTE4LCJmYW1pbHlfbmFtZSI6IkQiLCJqdGkiOiIyZGIyNjg4Yy1lMzEwLTRhOTktYjEyMC0xOGI5MDdhZDg0ZjIiLCJlbWFpbCI6ImFudXNoYS5kaXdha2FyQGtpZGRvLmhlYWx0aCJ9.kiez1YT_c73fa4TPRhfGhm-IUgquYi60WQeZmG3xmJIs0zS5PhB0FA5S8uSz6pH1qLphj5uxoVandJ_AQuTDaInhgZTfIx9Gv3e8JSNzwCDFbkwOhd9rq2hXtfA-ZMH2uvUjB3yVmjtCFrv6xKccYi3Kqennq7kM9QWEQu1OjCd0h4jsqqTHocd4N2iuJq-EzFe7XwbwEkKXWpmGX6HtZWiF9SjYXbfQiX4UThVU7r5uT_kwFZ7YYzWzu3HSxpaYqcnX34arZJmr3rLdJK11O-l5IRh02CpcrKdRKJfSb0j-KeyP-t2WHKxQJd994ciaSdLE_Ie8hKy8BZC5aZhQ3A'"],"background":true,"line":19,"prefix":"*","index":4,"text":"def tempToken =signIn.authToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"endLine":23,"background":true,"line":20,"prefix":"*","docString":"function(max){ return Math.floor(Math.random() * max) }","index":5,"text":"def getRandomNum ="}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"*","index":1,"text":"def randomNum = getRandomNum(9999)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"*","index":2,"text":"def patientEmail = requestPayloadReq.patients[0].patient.patient_email = props.usernameEmail+randomNum+props.domainEmail"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"*","index":3,"text":"def parentEmail = requestPayloadReq.patients[0].emergencyContact.ecEmail = patientEmail"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":4,"text":"path props.leadsPath"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"And","index":5,"text":"request requestPayloadReq"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"And","index":6,"text":"header Authorization = props.bearerName + tempToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"When","index":7,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"And","index":9,"text":"match response.code == 200"}}],"line":26,"description":"","durationMillis":2263.128084,"failed":true,"error":"status code was: 400, expected: 200, response time in milliseconds: 1738, url: https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token, response: \n{\"error\":\"invalid_grant\"}\nsrc\/test\/java\/authFeatures\/bearerToken.feature:26\nsrc\/test\/java\/features\/postLeads.feature:16","executorName":"main","name":"Create record with new parent and patient data","startTime":1693819673271,"refId":"[1:26]","endTime":1693819675691,"exampleIndex":-1}],"callDepth":0,"name":"Post Leads API","description":"","resultDate":"2023-09-04 02:57:55 pm","durationMillis":2263.128084,"passedCount":0}