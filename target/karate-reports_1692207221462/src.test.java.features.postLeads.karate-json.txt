{"failedCount":1,"prefixedPath":"src\/test\/java\/features\/postLeads.feature","packageQualifiedName":"src.test.java.features.postLeads","loopIndex":-1,"relativePath":"src\/test\/java\/features\/postLeads.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":52347375,"millis":52.347375,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"def requestPayload1 = read('file:src\/test\/resources\/data\/json\/postLeads1.json')"}},{"result":{"nanos":7291583,"millis":7.291583,"status":"passed"},"step":{"endLine":14,"background":true,"line":6,"prefix":"*","docString":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","index":1,"text":"def readProps ="}},{"result":{"nanos":27837000,"millis":27.837,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":2,"text":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')"}},{"result":{"nanos":2281797834,"millis":2281.797834,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":3,"text":"def signIn = call read('file:src\/test\/java\/authFeatures\/bearerToken.feature')"},"callResults":[{"failedCount":0,"prefixedPath":"src\/test\/java\/authFeatures\/bearerToken.feature","packageQualifiedName":"src.test.java.authFeatures.bearerToken","loopIndex":-1,"relativePath":"src\/test\/java\/authFeatures\/bearerToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":7735667,"millis":7.735667,"status":"passed"},"step":{"endLine":13,"line":5,"prefix":"*","docString":"function(path) {\n  var stream = karate.readAsStream(path);\n  var props = new java.util.Properties();\n  props.load(stream);\n  return props;\n}","index":0,"text":"def readProps ="}},{"result":{"nanos":2102542,"millis":2.102542,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"def props = readProps('file:src\/test\/resources\/utils\/karate.properties')"}},{"result":{"nanos":297542,"millis":0.297542,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"url 'https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com'"}},{"result":{"nanos":174042,"millis":0.174042,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"path '\/oauth2\/token'"}},{"result":{"nanos":95171458,"millis":95.171458,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"form field grant_type = props.grantType"}},{"result":{"nanos":3147250,"millis":3.14725,"status":"passed"},"step":{"line":20,"prefix":"And","index":5,"text":"form field client_secret = props.clientSecret"}},{"result":{"nanos":907958,"millis":0.907958,"status":"passed"},"step":{"line":21,"prefix":"And","index":6,"text":"form field client_id = props.clientId"}},{"result":{"nanos":1065875,"millis":1.065875,"status":"passed"},"step":{"line":22,"prefix":"And","index":7,"text":"form field redirect_uri = props.redirectUri"}},{"result":{"nanos":720584,"millis":0.720584,"status":"passed"},"step":{"line":23,"prefix":"And","index":8,"text":"form field refresh_token = props.refreshToken"}},{"result":{"nanos":2129144667,"millis":2129.144667,"status":"passed"},"step":{"line":24,"prefix":"When","index":9,"text":"method post"},"stepLog":"22:53:25.794 request:\n1 > POST https:\/\/provider-portal-dev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 1973\n1 > Host: provider-portal-dev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_371)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=refresh_token&client_secret=s5cli5fi2p4us02j3tvv1f998j076r7k0m71ebl7fj66qolqtgh&client_id=6ji8vbofef21ga6e1oep9ifedm&redirect_uri=https%3A%2F%2Fgoodparents.co%2F&refresh_token=eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.t4J5wY4aIWBUTTxWp9tjvgd4D_k7i_5pZ5T6jU2jHZ2nq-n53L5zzZeN7HaN5xw2FPigy_5eHxmnPQ9WJupNDkFEDN6WSz4JaBLxPKsDRMbyc_6cg0itqmTZmlLY_I3kzcpUlPTtudm9PoAT0zE2NvSqLA_vFiFA-r9L678oi2CnIwnbYVmKceYMhtH6LmZgdkDLoN7xPI-h9lYW0iEmnY2dW-ZA6mubcNX5Q6WiF5wmO--LzcG1IS0C11ISS8TYX1wEhva86UyfrBRgtRc-AIPHdj-RGlHEU_6adgQkXwNud37BRxFjFdSoHn3RRLMfl84zDeAYYPO79CEpSnZJXw.kahcr4UUsOpMhp8y.nv6cmXtWpLsORgpRwzVks3mDZiyCKWjX_Ml4O5X1o3elzzLGc5N5yXEje5Xgm-KVcB9ULbcekb3iP_1dUPqjLSzJ9FlcLnMsYWq5qfEwLzdObByItg4Kt8qDkMBXn9nc-SF4CTzx9oKqxFmcylJS8b96eyrTuYf0DuiDT5DymxDCA1u0UH2wj3jBwugGAgb0iZab-WrVwSH7nVaWqxCQ3pC6RZXk_IXVj7QYUX1lWTBvSVPiicE_UCG4SLw8tR9svvMYD35u816qZg9a7uyh80hsXSi_vWwDbvXPlXUiDqu9_Cv3TeWh03pZjMPIUnF01BjU7mWxsJLUgE6T8V_fNNP9qY55DObcXm2GyMDZ7i5bppFXqmxG0wwCdQq_mU1KszA6RH_Dpe3arR_OWRxt2Fy36kEsKG_g3ldg0RqpsWahTCExzm4vOQc2sFpMj7lg6miqhyuwR6Xpe8wyfKJ73C2ri1LLRXIfGBpdiuYpxqHZ0ohgjmqd3f8H9G0BmgkHWIYm4Q0_SYXxI4AhwToyIPzbSJJrkSgOX5-btsMtLqhEa4y-2NHhqivX5HnFHfmOwS1_sX-52ib9AMgyhtXw9RrbQ-og0ZUiB5FljRTfUbMphlDxhSAoNnD8nWkbJ92UABPgjx-J0p54-GyYuzUbvVzWbaVQf2-DvB87sCNGAo_-kagws4ySgZ8EOcuGmN_LMkt8g-wa6RZQJ8We6lQeFGwX2z0YlbN4iCvosRI6ppMzXMZesTZGC4JV3-KIvUH0-t_0EMCkM86cBt0X3CLVKJk6Xwa0U0E8OgynlctHeXO2sGMMPga9nQr2oeh91ooFp-JSMRLfyqbxcnOWpx0t6AX8LL_mM0puXH495myMKmUqmBlFoEqqciicSlrInCp-f5lL1C9IoBCmJioh0YkbwTFTUwkvU83wl4quGLFCMUVz5TF0eGcM_prO6KnDZ4jjECsdXqcNRKa9glIQKskyb3JLqsLiNBijG61ApTqmA5vHKBAEFfM-6RxiSj0ZNkeb6WjPF6XqKl82q9uFIWyLHUO42pQOtWdw_MwBi6ZeebOPe2er8FA5wbm3MJP1UevyoiyaIl60CasU6l6rYLRskhGyHhKzQTo34RILfZHzsYQX8gVoZYRBtWSMANa5lOYgIw5gAqpT1ik_MU5zG35GPEioAARvTSRs25MNj5uiGDo2QaFsv3OaSGn1l2sU1XN16s99_nU3Rp0u-lSurJnKge2bsmR5sqLAADsMnX69FMrgggkWf80mrkEAdNYaMaDrv0xaWsQUmlnxIU64zWSfnurILHtFM0T5BcZiE0kE5svbWe3Ez7CawZj3kgjm.dGNEt-cU99F62xgukgWbEA\n\n22:53:27.425 response time in milliseconds: 1610\n1 < 200\n1 < Date: Wed, 16 Aug 2023 17:23:27 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Set-Cookie: XSRF-TOKEN=bfd09ec3-55cb-4bab-95ae-1ea25d773c05; Path=\/; Secure; HttpOnly; SameSite=Lax\n1 < x-amz-cognito-request-id: 68a0bca3-4e6a-4e00-9130-7be3d0722d11\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n{\"id_token\":\"eyJraWQiOiJMemxCeWp3bkxHR25EbFVkWFVsMVRhZk9tRlZ3U1c3UnppZVlrZ0lrRktrPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiOTFOUVNCUUswbGpSRDQzRFpiaHVOZyIsInN1YiI6Ijk4Y2E1NmY4LWZkNDAtNDk5Ny1hOGE4LWRkMjcwMDRhOTU4NyIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9FWWV3NldaQjQiLCJjb2duaXRvOnVzZXJuYW1lIjoiOThjYTU2ZjgtZmQ0MC00OTk3LWE4YTgtZGQyNzAwNGE5NTg3Iiwib3JpZ2luX2p0aSI6IjU1ZDNlNTM4LWM2M2QtNDhlMS04ZDE5LWUyZjU1MjU5MWNkZCIsImF1ZCI6IjZqaTh2Ym9mZWYyMWdhNmUxb2VwOWlmZWRtIiwiZXZlbnRfaWQiOiI3ZGVhODg4MS0yMWIwLTRkOTYtYjIyMS0zNmUyMTI5MWQ5YmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY4ODcyNDE1MSwiZXhwIjoxNjkyMjEwMjA3LCJpYXQiOjE2OTIyMDY2MDcsImp0aSI6IjgzYjYzOGRjLTVjMmQtNDNmZi1iNjE5LTMyNDZkMTZiYWRkYyIsImVtYWlsIjoibWloaXIuYmhhdHRAa2lkZG8uaGVhbHRoIn0.Ivg0IHfkaI-zjh059SYFbDSRbrGsu2PPSiYMOKDQBiLb5gnDI5zgfWW7qrGVAVE--RlXq2KPQWDJI0GbgXefBgQvRjZAjo9STwai3NaqLt3fOs_ljBhAybycO0Gkx_PRHlqrmM2WEEk-eyvRlQxW9Jn-P5gOxcTrpl6yzZmhD0MfkV2ItiS3VwMBQftHiRWI-THeWBzWWbNxcbiqWfM95ot6qg--1oSekBYcYv84NhOGiLWEamNIMjRh1G9ApiM2WFBh1By_2SYb40mM_29wS0iOWlYOOX-0EmktNgokyr-WTwvcjjuoU7CuEFfFRTJSkm9USpt4x2uM21ed5ZDMDg\",\"access_token\":\"eyJraWQiOiJXS1pzQTNvbnFKcjRCMkpCeHh5dVBLNVlzZ0N0Z1dTZm5JQXh2YnpGTElFPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI5OGNhNTZmOC1mZDQwLTQ5OTctYThhOC1kZDI3MDA0YTk1ODciLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9FWWV3NldaQjQiLCJ2ZXJzaW9uIjoyLCJjbGllbnRfaWQiOiI2amk4dmJvZmVmMjFnYTZlMW9lcDlpZmVkbSIsIm9yaWdpbl9qdGkiOiI1NWQzZTUzOC1jNjNkLTQ4ZTEtOGQxOS1lMmY1NTI1OTFjZGQiLCJldmVudF9pZCI6IjdkZWE4ODgxLTIxYjAtNGQ5Ni1iMjIxLTM2ZTIxMjkxZDliZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoicGhvbmUgb3BlbmlkIGVtYWlsIiwiYXV0aF90aW1lIjoxNjg4NzI0MTUxLCJleHAiOjE2OTIyMTAyMDcsImlhdCI6MTY5MjIwNjYwNywianRpIjoiMDNiOWVkZTItZWVhNS00YjBiLWI1OGUtZTM3MmMzYzc2ZDhhIiwidXNlcm5hbWUiOiI5OGNhNTZmOC1mZDQwLTQ5OTctYThhOC1kZDI3MDA0YTk1ODcifQ.EO70g091PwP4E64LVdP5mJMOGCO5EjziGcAKDxtzx25b9sX_A-eMcI_1s78sM2RSLVV8VbHAdiwudHwYPeywl-A-Hwpf4sVmJK4IN73rEhpC5WYS2gCZrbD1IYJm0rf04Zat0AMyKCXDmIwMVEPNOzJwqTlcEaI9RK4BClvdNuVExlB9oYWKSvyP_9VRYn5w0CNDJYQdI8hYLJQck2IQTUZfJdrz5ry39vosia8Ew5fDsDAT-vSNeyapATct5MpRCRD7DbcYr2sv5KpF-Bs2l4jLtGz8l9SHTTnB9Uo-3zMGFRLhKjhYHNcnS0J2Xiri7fP8Ooy7lE_074s1ivP0Kg\",\"expires_in\":3600,\"token_type\":\"Bearer\"}\n\n"},{"result":{"nanos":85417,"millis":0.085417,"status":"passed"},"step":{"line":25,"prefix":"Then","index":10,"text":"status  200"}},{"result":{"nanos":7050500,"millis":7.0505,"status":"passed"},"step":{"line":26,"prefix":"And","index":11,"text":"def authToken = response.id_token"}}],"executorName":"main","line":3,"name":"Oauth2 Token API","description":"","durationMillis":2247.603502,"startTime":1692206605200,"failed":false,"refId":"[1:3]","endTime":1692206607452,"exampleIndex":-1}],"callDepth":1,"name":"Get bearer Token for Provider Portal","description":"","resultDate":"2023-08-16 10:53:27 PM","durationMillis":2247.603502,"passedCount":1}]},{"result":{"nanos":920084,"millis":0.920084,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":4,"text":"def authToken = signIn.authToken"}},{"result":{"nanos":4949250,"millis":4.94925,"status":"passed"},"step":{"endLine":23,"background":true,"line":20,"prefix":"*","docString":"function(max){ return Math.floor(Math.random() * max) }","index":5,"text":"def getRandomNum ="}},{"result":{"nanos":15638125,"millis":15.638125,"status":"passed"},"step":{"background":true,"line":25,"prefix":"*","index":6,"text":"def randomNum = getRandomNum(9999)"}},{"result":{"nanos":4351000,"millis":4.351,"status":"passed"},"step":{"background":true,"line":26,"prefix":"*","index":7,"text":"print randomNum"},"stepLog":"22:53:27.482 [print] 3355 \n"},{"result":{"nanos":12799084,"errorMessage":"js failed:\n>>>>\n01: (function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } })\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:30 Expected : but found .\n(function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } })\n                              ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)\n\nsrc\/test\/java\/features\/postLeads.feature:28","millis":12.799084,"status":"failed"},"step":{"background":true,"line":28,"prefix":"*","index":8,"text":"def funcn = function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } }"},"stepLog":"22:53:27.495 src\/test\/java\/features\/postLeads.feature:28\n* def funcn = function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } }\njs failed:\n>>>>\n01: (function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } })\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:30 Expected : but found .\n(function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } })\n                              ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)\n\nsrc\/test\/java\/features\/postLeads.feature:28\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":29,"prefix":"*","index":9,"text":"def patientEmail = karate.map(requestPayload1.leads,funcn )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":30,"prefix":"*","index":10,"text":"print patientEmail"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"And","index":1,"text":"path props.leadsPath"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"*","index":2,"text":"requestPayload1.leads.patient.patient_email == 'anusha.diwakar+ec'+randomNum+'@kiddo.health'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"*","index":3,"text":"requestPayload1.ecEmail == 'anusha.diwakar+ec'+randomNum+'@kiddo.health'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"*","index":4,"text":"print requestPayload1.leads.patient.patient_email"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":5,"text":"request requestPayload1"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"When","index":7,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"Then","index":8,"text":"status props.OK"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":9,"text":"match $.data.status == 'true'"}}],"line":32,"description":"","durationMillis":2407.931335,"failed":true,"error":"js failed:\n>>>>\n01: (function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } })\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:30 Expected : but found .\n(function(x){ return { patient.patient_email:'anusha.diwakar+ec'+randomNum+'@kiddo.health' } })\n                              ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:425)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:139)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:135)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1190)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2143)\n- com.intuit.karate.core.ScenarioEngine.evalKarateExpression(ScenarioEngine.java:2062)\n- com.intuit.karate.core.ScenarioEngine.evalAndCastTo(ScenarioEngine.java:1251)\n\nsrc\/test\/java\/features\/postLeads.feature:28","executorName":"main","name":"Create Leads with new parent and patient data","startTime":1692206604894,"refId":"[1:32]","endTime":1692206607495,"exampleIndex":-1}],"callDepth":0,"name":"Post Leads API","description":"","resultDate":"2023-08-16 10:53:27 PM","durationMillis":2407.931335,"passedCount":0}